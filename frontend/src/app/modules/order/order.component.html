<div *ngIf="orderSummary" class="orderSummary">
    <div>Nowe zamówienie o numerze: {{orderSummary.id}}</div>
    <div>Data złożenia: {{orderSummary.placeDate | date: 'yyyy-MM-dd HH:mm'}}</div>
    <div>Status: {{getStatus(orderSummary.status)}}</div>
    <div>Wartość: {{orderSummary.grossValue}} PLN</div>
    <div *ngIf="orderSummary.payment.note">
        Płatność: <br>
        <span class="paymentNote" [innerHTML]="orderSummary.payment.note | replace: '\n': '\<br>'"></span>
    </div>
    <div *ngIf="isLoggedIn">Status zamówienia można śledzić na stronie swojego <a routerLink="/profile">profilu</a></div>
</div>

<div *ngIf="product && !orderSummary">
    <h2>Rezerwujesz</h2>
    <div>Nazwa: {{product.name}}</div>
    <div>slug: {{product.slug}}</div>
</div>

<form *ngIf="!orderSummary" [formGroup]="formGrup" (submit)="submit()">
<div fxLayout="row" fxLayoutGap="15px">



    <div fxLayout="column" class="orderForm">
        <mat-form-field appearance="fill">
            <mat-label>Imię</mat-label>
            <input matInput placeholder="Podaj imię" formControlName="firstname">
            <div *ngIf="firstname?.invalid && (firstname?.dirty || firstname?.touched)" class="errorMessage">
            <div *ngIf="firstname?.errors?.['required']">
                Imię jest wymagane
            </div>
            </div>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Nazwisko</mat-label>
            <input matInput placeholder="Podaj nazwisko" formControlName="lastname">
            <div *ngIf="lastname?.invalid && (lastname?.dirty || lastname?.touched)" class="errorMessage">
            <div *ngIf="lastname?.errors?.['required']">
                Nazwisko jest wymagane
            </div>
            </div>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Ulica</mat-label>
            <input matInput placeholder="Podaj ulicę" formControlName="street">
            <div *ngIf="street?.invalid && (street?.dirty || street?.touched)" class="errorMessage">
            <div *ngIf="street?.errors?.['required']">
                Nazwa ulicy jest wymagana
            </div>
            </div>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Kod pocztkowy</mat-label>
            <input matInput placeholder="Podaj kodpocztowy" formControlName="zipcode">
            <div *ngIf="zipcode?.invalid && (zipcode?.dirty || zipcode?.touched)" class="errorMessage">
            <div *ngIf="zipcode?.errors?.['required']">
                Kod pocztowy jest wymagany
            </div>
            </div>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Miasto</mat-label>
            <input matInput placeholder="Podaj miasto" formControlName="city">
            <div *ngIf="city?.invalid && (city?.dirty || city?.touched)" class="errorMessage">
            <div *ngIf="city?.errors?.['required']">
                Miasto jest wymagane
            </div>
            </div>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Email</mat-label>
            <input type="email" matInput placeholder="Podaj email" formControlName="email">
            <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="errorMessage">
            <div *ngIf="email?.errors?.['required']">
                Email jest wymagany
            </div>
            <div *ngIf="email?.errors?.['email']">
                Podaj porawny format email
            </div>
            </div>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Telefon</mat-label>
            <input matInput placeholder="Podaj telefon" formControlName="phone">
            <div *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)" class="errorMessage">
            <div *ngIf="phone?.errors?.['required']">
                Telefon jest wymagany
            </div>
            </div>
        </mat-form-field>
    </div>

    <div class="loginInfo" *ngIf="!isLoggedIn"><a routerLink="/login">Zaloguj się</a>, ay śledzić zamówienia</div>
</div>
    <div>
        <h2>Płatność</h2>
        <mat-radio-group fxLayout="column" formControlName="payment">
            <mat-radio-button class="paymentRadioButton" *ngFor="let payment of initData?.payments" [value]="payment" [checked]="payment.defaultPayment">
            {{payment.name}}

            </mat-radio-button>

        </mat-radio-group>
    </div>
    <div>
    </div>
    <div fxLayoutAlign="end start">
        <button mat-flat-button color="accent" class="orderButton">Rezerwuje</button>
    </div>
</form>